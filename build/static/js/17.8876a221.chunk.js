(this.webpackJsonpTheia=this.webpackJsonpTheia||[]).push([[17],{791:function(e,t,a){},891:function(e,t,a){"use strict";a.r(t);var o=a(1),c=a(9),n=(a(791),a(790)),s=a(795),r=a.n(s),l=a(60),d=a.n(l),E=a(5),_=a(2);t.default=()=>{const e=Object(c.f)();let t=Object(c.g)(),a=parseInt(t.id);isNaN(a)&&(a=0);const{t:s}=Object(n.a)(),[l,i]=Object(o.useState)([]),[A,S]=Object(o.useState)([]),[T,O]=Object(o.useState)(new Date),[P,m]=Object(o.useState)(""),[j,C]=Object(o.useState)({userdate:"",usertime:"",attendanceTypeId:"",userId:""}),R=e=>{C({...j,[e.target.name]:e.target.value})};Object(o.useEffect)((()=>{(async e=>{if(0!==e){var t=new Headers;t.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var a=new FormData;a.append("id",e);var o={method:"POST",headers:t,body:a,redirect:"follow"};await fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_API_DOMAIN).concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_SUB_API_NAME,"/Leaves/GetByIdAndFirm"),o).then((e=>e.json())).then((e=>{if(console.log("getStoreById:",e),1===e.SUCCESS){let t=e.DATA;t&&(C({leaveReason:t.leaveReason,usertime:t.createdOnTimeByUser,leaveTypeId:t.leaveTypeId}),m(t.userId))}})).catch((e=>{console.log("error",e)}))}})(a),(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};await fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_API_DOMAIN).concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_SUB_API_NAME,"/Leaves/GetLeaveTypesDropdown"),t).then((e=>e.json())).then((e=>{if(1===e.SUCCESS){let t=e.DATA;t&&S(t)}})).catch((e=>{console.log("error",e)}))})(),(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};await fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_API_DOMAIN).concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_SUB_API_NAME,"/Attendances/GetUsersDropdownByFirm"),t).then((e=>e.json())).then((e=>{if(1===e.SUCCESS){let t=e.DATA;t&&i(t)}})).catch((e=>{console.log("error",e)}))})()}),[]);return Object(_.jsx)(o.Fragment,{children:Object(_.jsxs)(E.s,{id:"employeedata",onSubmit:()=>(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t=new FormData(document.getElementById("leaveForm"));t.append("userId",P),t.append("id",a),console.log(t);var o={method:"POST",headers:e,body:t,redirect:"follow"};await fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_API_DOMAIN).concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_SUB_API_NAME,"/Leaves/Save"),o).then((e=>e.json())).then((e=>{e.SUCCESS})).catch((e=>{console.log("error",e)}))})(),children:[Object(_.jsxs)(E.B,{children:[Object(_.jsxs)(E.o,{md:"6",className:"mb-1",children:[Object(_.jsx)(E.w,{className:"form-label",children:s("Select Employee")}),Object(_.jsxs)(E.t,{type:"select",id:"userId",name:"userId",value:j.userId,onChange:R,placeholder:"Select Employee",children:[Object(_.jsx)("option",{}),l&&l.length>0?l.map(((e,t)=>Object(_.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(_.jsxs)(E.o,{md:"6",className:"mb-1",children:[Object(_.jsx)(E.w,{className:"form-label",children:s("Leave Type")}),Object(_.jsxs)(E.t,{type:"select",name:"leaveTypeId",id:"leaveTypeId",placeholder:"Leave Type",value:j.attendanceTypeId,onChange:R,children:[Object(_.jsx)("option",{}),A&&A.length>0?A.map(((e,t)=>Object(_.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]})]}),Object(_.jsxs)(E.B,{children:[Object(_.jsxs)(E.o,{md:"6",className:"mb-1",children:[Object(_.jsx)(E.w,{className:"form-label",for:"date-time-picker",children:"Leave Date"}),Object(_.jsx)(r.a,{id:"date-time-picker",className:"form-control",onChange:e=>(e=>{const t=e[0],a=d()(t).format("DD/MM/YYYY");console.log(a)})(e)})]}),Object(_.jsxs)(E.o,{md:"6",className:"mb-1",children:[Object(_.jsx)(E.w,{className:"form-label",for:"date-time-picker",children:"Leave Time"}),Object(_.jsx)(E.t,{value:T,type:"time",id:"time-picker",className:"form-control",onChange:e=>(e=>{const t=e.target.value,a=d()(t,"HH:mm:ss").format("hh:mm a");O(t),console.log(a)})(e)})]})]}),Object(_.jsx)(E.B,{children:Object(_.jsxs)(E.o,{md:"12",className:"mb-1",children:[Object(_.jsx)(E.w,{className:"form-label",children:s("Leave Reason")}),Object(_.jsx)(E.t,{id:"leaveReason",name:"leaveReason",autoComplete:"family-name",value:j.lastName,onChange:R,placeholder:"Leave Reason"})]})}),Object(_.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(_.jsx)(E.e,{color:"secondary",className:"btn-prev",outline:!0,onClick:()=>{e("/ViewAllLeavesData")},children:Object(_.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"View"})}),Object(_.jsx)(E.e,{type:"submit",color:"primary",className:"btn-next",children:Object(_.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"Save"})})]})]})})}}}]);
//# sourceMappingURL=17.8876a221.chunk.js.map