(this.webpackJsonpTheia=this.webpackJsonpTheia||[]).push([[18],{791:function(e,t,a){},890:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a(9),c=(a(791),a(790)),d=a(60),r=a.n(d),s=a(795),E=a.n(s),_=a(5),i=a(2);t.default=()=>{const e=Object(o.f)();let t=Object(o.g)(),a=parseInt(t.id);isNaN(a)&&(a=0);const{t:d}=Object(c.a)(),[s,A]=Object(n.useState)([]),[l,S]=Object(n.useState)([]),[O,T]=Object(n.useState)(new Date),[P,m]=Object(n.useState)(new Date),[C,j]=Object(n.useState)(new Date);console.log("data is");const[R,u]=Object(n.useState)(""),[b,h]=Object(n.useState)({userdate:"",usertime:"",attendanceTypeId:"",userId:""}),p=e=>{h({...b,[e.target.name]:e.target.value})};Object(n.useEffect)((()=>{(async e=>{if(0!==e){var t=new Headers;t.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var a=new FormData;a.append("id",e);var n={method:"POST",headers:t,body:a,redirect:"follow"};await fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_API_DOMAIN).concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_SUB_API_NAME,"/Attendances/GetManualByIdAndFirm"),n).then((e=>e.json())).then((e=>{if(console.log("getStoreById:",e),1===e.SUCCESS){let t=e.DATA;t&&(console.log(t),h({userdate:t.createdOnDateByUser,usertime:t.createdOnTimeByUser,attendanceTypeId:t.attendanceTypeId,userId:t.userId}),m(r()(t.createdOnByUserTimeDisplay,"hh:mm a").format("HH:mm")),j(new Date(t.createdOnDateByUser)))}})).catch((e=>{console.log("error",e)}))}})(a),(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};await fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_API_DOMAIN).concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_SUB_API_NAME,"/Attendances/GetUsersDropdownByFirm"),t).then((e=>e.json())).then((e=>{if(1===e.SUCCESS){let t=e.DATA;t&&A(t)}})).catch((e=>{console.log("error",e)}))})(),(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t={method:"POST",headers:e,body:new FormData,redirect:"follow"};await fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_API_DOMAIN).concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_SUB_API_NAME,"/Attendances/GetAttendanceTypesDropdown"),t).then((e=>e.json())).then((e=>{if(1===e.SUCCESS){let t=e.DATA;t&&S(t)}})).catch((e=>{console.log("error",e)}))})()}),[]);return Object(i.jsx)(n.Fragment,{children:Object(i.jsxs)(_.s,{id:"attForm",onSubmit:()=>(async()=>{var e=new Headers;e.append("Authorization","Bearer "+window.localStorage.getItem("AtouBeatXToken"));var t=new FormData(document.getElementById("attForm"));t.append("id",a),t.append("createdOnDateByUser",b.userdate),t.append("createdOnTimeByUser",b.usertime),console.log(t);var n={method:"POST",headers:e,body:t,redirect:"follow"};await fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_API_DOMAIN).concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"",REACT_APP_DEVELOPMENT:"true",REACT_APP_VERSION:"1.0.0"}).REACT_APP_SUB_API_NAME,"/Attendances/SaveManual"),n).then((e=>e.json())).then((e=>{e.SUCCESS})).catch((e=>{console.log("error",e)}))})(),children:[Object(i.jsxs)(_.B,{children:[Object(i.jsxs)(_.o,{md:"6",className:"mb-1",children:[Object(i.jsx)(_.w,{className:"form-label",children:d("Select Employee")}),Object(i.jsxs)(_.t,{type:"select",id:"userId",name:"userId",value:b.userId,onChange:p,placeholder:"Select Employee",children:[Object(i.jsx)("option",{}),s&&s.length>0?s.map(((e,t)=>Object(i.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]}),Object(i.jsxs)(_.o,{md:"6",className:"mb-1",children:[Object(i.jsx)(_.w,{className:"form-label",children:d("Attendance Type")}),Object(i.jsxs)(_.t,{type:"select",name:"attendanceTypeId",id:"attendanceTypeId",placeholder:"Attendance Type",value:b.attendanceTypeId,onChange:p,children:[Object(i.jsx)("option",{}),l&&l.length>0?l.map(((e,t)=>Object(i.jsx)("option",{value:e.id,children:e.label},e.id))):null]})]})]}),Object(i.jsxs)(_.B,{children:[Object(i.jsxs)(_.o,{md:"6",className:"mb-1",children:[Object(i.jsx)(_.w,{className:"form-label",for:"date-time-picker",children:"Attendance Date"}),Object(i.jsx)(E.a,{value:C,dateFormat:"Y-m-d",id:"date-time-picker",className:"form-control",onChange:e=>(e=>{const t=e[0];j(t);const a=r()(t).format("DD/MM/YYYY");h({...b,userdate:a}),console.log(a)})(e)})]}),Object(i.jsxs)(_.o,{md:"6",className:"mb-1",children:[Object(i.jsx)(_.w,{className:"form-label",for:"date-time-picker",children:"Attendance Time"}),Object(i.jsx)(_.t,{value:P,type:"time",id:"time-picker",className:"form-control",onChange:e=>(e=>{const t=e.target.value;m(t),T(t);const a=r()(t,"HH:mm:ss").format("hh:mm a");h({...b,usertime:a})})(e)})]})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(i.jsx)(_.e,{color:"secondary",className:"btn-prev",outline:!0,onClick:()=>{e("/ViewAllAttendanceData")},children:Object(i.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"View"})}),Object(i.jsx)(_.e,{type:"submit",color:"primary",className:"btn-next",children:Object(i.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:0!==a?"Update":"Save"})})]})]})})}}}]);
//# sourceMappingURL=18.9d2d6293.chunk.js.map